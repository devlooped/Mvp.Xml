<#@ Template Output="xml" #>
<#@ Import Namespace="Mvp.Xml.TypedTemplate.Tests" #>
<#@ Property Name="customer" Type="Mvp.Xml.TypedTemplate.Tests.Customer" #>
<?xml version="1.0" encoding="UTF-8"?>
<Customer xmlns="mvp-xml-templates" Name="<#= customer.LastName + ", " + customer.FirstName #>">
	<Orders>
		<# foreach (Order o in customer.Orders) { #>
		<Order Id="<#= o.Id #>" <# if (o.GrandTotal > 10000) { #>Premium="true"<# } #>>
			<Items>
				<# foreach (Item i in o.Items) { #>
				<Item Id="<#= i.ProductId #>" SubTotal="<#= i.Quantity * i.Price #>" />
				<# } #>
			</Items>
		</Order>
		<# } #>
	</Orders>
</Customer>